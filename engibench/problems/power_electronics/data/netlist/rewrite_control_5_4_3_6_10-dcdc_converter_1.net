* rewrite netlist
V0 1 0 {V0_value}
S0 2 0 GS0 0 Ideal_switch
S1 3 4 GS1 0 Ideal_switch
S2 5 6 GS2 0 Ideal_switch
S3 6 3 GS3 0 Ideal_switch
S4 7 4 GS4 0 Ideal_switch
D0 3 8 Ideal_D
D1 9 6 Ideal_D
D2 10 9 Ideal_D
D3 1 7 Ideal_D
C0 6 10 {C0_value}
C1 5 2 {C1_value}
C2 7 5 {C2_value}
C3 8 3 {C3_value}
C4 4 10 {C4_value}
C5 9 4 {C5_value}
L0 8 2 {L0_value}
L1 1 7 {L1_value}
L2 9 1 {L2_value}
R0 5 2 {R0_value}
RC0 6 10 100meg
RC1 5 2 100meg
RC2 7 5 100meg
RC3 8 3 100meg
RC4 4 10 100meg
RC5 9 4 100meg

.PARAM V0_value=1000
.PARAM C0_value = 1.5485e-05
.PARAM C1_value = 1.948e-05
.PARAM C2_value = 1.5185e-05
.PARAM C3_value = 2.442e-06
.PARAM C4_value = 9.287e-06
.PARAM C5_value = 1.5377e-05
.PARAM L0_value = 0.000354659
.PARAM L1_value = 0.000706596
.PARAM L2_value = 0.000195361
.PARAM R0_value = 10

.model Ideal_switch SW (Ron=1m Roff=10Meg Vt=0.5 Vh=0 Lser=0 Vser=0)
.model Ideal_D D

V_GSref_D  gs_ref_D 0 pwl(0 1 {GS0_T1-10e-9} 1 {GS0_T1} 0 {GS0_T2-10e-9} 0 {GS0_Ts} 1) r=0
V_GSref_Dc  gs_ref_Dc 0 pwl(0 0 {GS0_T1-10e-9} 0 {GS0_T1} 1 {GS0_T2-10e-9} 1 {GS0_Ts} 0) r=0
V_GS0 GS0 0 pwl(0 {GS0_L1} {GS0_T1-10e-9} {GS0_L1} {GS0_T1} {GS0_L2} {GS0_T2-10e-9} {GS0_L2} {GS0_Ts} {GS0_L1}) r=0
V_GS1 GS1 0 pwl(0 {GS1_L1} {GS1_T1-10e-9} {GS1_L1} {GS1_T1} {GS1_L2} {GS1_T2-10e-9} {GS1_L2} {GS1_Ts} {GS1_L1}) r=0
V_GS2 GS2 0 pwl(0 {GS2_L1} {GS2_T1-10e-9} {GS2_L1} {GS2_T1} {GS2_L2} {GS2_T2-10e-9} {GS2_L2} {GS2_Ts} {GS2_L1}) r=0
V_GS3 GS3 0 pwl(0 {GS3_L1} {GS3_T1-10e-9} {GS3_L1} {GS3_T1} {GS3_L2} {GS3_T2-10e-9} {GS3_L2} {GS3_Ts} {GS3_L1}) r=0
V_GS4 GS4 0 pwl(0 {GS4_L1} {GS4_T1-10e-9} {GS4_L1} {GS4_T1} {GS4_L2} {GS4_T2-10e-9} {GS4_L2} {GS4_Ts} {GS4_L1}) r=0
.PARAM GS0_Ts = 5.0e-06
.PARAM GS0_T1 = 4.338079285e-06
.PARAM GS0_T2 = 5.0e-06
.PARAM GS0_L1 = 1
.PARAM GS0_L2 = 1
.PARAM GS1_Ts = 5.0e-06
.PARAM GS1_T1 = 4.338079285e-06
.PARAM GS1_T2 = 5.0e-06
.PARAM GS1_L1 = 1
.PARAM GS1_L2 = 1
.PARAM GS2_Ts = 5.0e-06
.PARAM GS2_T1 = 4.338079285e-06
.PARAM GS2_T2 = 5.0e-06
.PARAM GS2_L1 = 0
.PARAM GS2_L2 = 1
.PARAM GS3_Ts = 5.0e-06
.PARAM GS3_T1 = 4.338079285e-06
.PARAM GS3_T2 = 5.0e-06
.PARAM GS3_L1 = 0
.PARAM GS3_L2 = 0
.PARAM GS4_Ts = 5.0e-06
.PARAM GS4_T1 = 4.338079285e-06
.PARAM GS4_T2 = 5.0e-06
.PARAM GS4_L1 = 1
.PARAM GS4_L2 = 0

.control
save @C0[i] @RC0[i] @C1[i] @RC1[i] @C2[i] @RC2[i] @C3[i] @RC3[i] @C4[i] @RC4[i] @C5[i] @RC5[i] @L0[i] @L1[i] @L2[i] @S0[i] @S1[i] @S2[i] @S3[i] @S4[i] @D0[i] @D1[i] @D2[i] @D3[i] @R0[i]
save all
tran 5n 1.06m 1m 5n uic
let Vdiff = V(5) - V(2)
meas TRAN Vo_mean avg Vdiff from = 1m to = 1.06m
meas TRAN Vpp pp Vdiff from = 1m to = 1.06m
let Gain = Vo_mean / 1000
let Vpp_ratio = Vpp / Vo_mean
print Gain, Vpp_ratio
run
set filetype = binary
write D:\git_repos\EngiBench\engibench\problems\power_electronics\data\raw_file\5_4_3_6_10-dcdc_converter_1.raw
quit
.endc

.end
